"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}document.addEventListener("DOMContentLoaded",function(){console.log("ready!")},!1),Inputmask("phone").mask('input[name="phone"]'),Inputmask("email").mask('input[name="email"]');var currentTab=0,currentTabGroup=0,currentTabGroupThanks=0,currentTabIndex=0,tabsCounter=document.querySelectorAll(".tab-group")[currentTabGroup].querySelectorAll(".tab").length;function showHeader(){var e=document.querySelectorAll(".form-header");if(document.querySelectorAll(".tab")[currentTab].matches(".thanks"))return currentTabGroupThanks++,void _toConsumableArray(e).map(function(e){return e.classList.remove("show")});_toConsumableArray(e).map(function(e){return e.classList.remove("show")}),0===currentTabGroup&&0===currentTab?e[0].classList.add("show"):e[currentTab-currentTabGroupThanks].classList.add("show")}function progress(){var e=document.querySelector(".progress");if(null!==e){var r=currentTab-currentTabGroupThanks+1,t=100/document.querySelectorAll(".tab:not(.thanks)").length*r;e.querySelector(".progress-done").style.width=t+"%",e.querySelector(".total-pages").textContent=document.querySelectorAll(".tab:not(.thanks)").length,e.querySelector(".current-page").textContent=r}}function showTab(e){if(console.log("Текущая стр: "+(currentTab+1)),progress(),showHeader(),null!==document.querySelector(".tab")){var r=document.querySelectorAll(".tab");r[e].classList.add("active"),0===currentTab&&(document.querySelector("#nextBtn").textContent="Начнем!"),tabsCounter===document.querySelectorAll(".tab-group")[currentTabGroup].querySelectorAll(".tab").length||document.querySelectorAll(".tab")[currentTab].matches(".thanks")?(document.querySelector("#prevBtn").classList.add("hide"),document.querySelector("#prevBtn").classList.remove("show")):(document.querySelector("#prevBtn").classList.add("show"),document.querySelector("#prevBtn").classList.remove("hide"),document.querySelector("#nextBtn").textContent="Дальше"),e+1===r.length&&(document.querySelector("#nextBtn").innerHTML="Готово")}}function nextPrev(e){var r=document.querySelectorAll(".tab");return!(1==e&&!validateForm())&&(r[currentTab].classList.remove("active"),currentTab+=e,(tabsCounter+=e>0?-1:1)<=0&&nextGroup(),!(currentTab>=r.length)&&(document.querySelectorAll(".tab")[currentTab].matches(".thanks")?hideFormUI():showFormUI(),void showTab(currentTab)))}function nextGroup(){currentTabGroup++,tabsCounter=document.querySelectorAll(".tab-group")[currentTabGroup].querySelectorAll(".tab").length,document.querySelector("#prevBtn").classList.add("hide"),_toConsumableArray(document.querySelectorAll(".tab-group")).map(function(e){return e.classList.remove("active")}),document.querySelectorAll(".tab-group")[currentTabGroup].classList.add("active")}function hideFormUI(){var e=document.querySelectorAll(".form-header");document.querySelector(".panel-footer").classList.add("hide"),document.querySelector(".progress").classList.add("hide"),_toConsumableArray(e).map(function(e){return e.classList.remove("show")})}function showFormUI(){var e=document.querySelectorAll(".form-header");document.querySelector(".panel-footer").classList.remove("hide"),document.querySelector(".progress").classList.remove("hide"),e[0].classList.add("show")}function validateForm(){var e,r=!0;e=document.querySelectorAll(".tab")[currentTab].querySelectorAll(".required");for(var t=0;t<e.length;t++){if(e[t].matches(".input")&&e[t].querySelectorAll('input[type="text"]').length>0)for(var o=e[t].querySelectorAll('input[type="text"]'),n=0;n<o.length;n++)""==o[n].value&&(o[n].closest(".input").className+=" invalid",r=!1);if(e[t].matches(".radio-group")&&(e[t].querySelector('input[type="radio"]:checked')||(e[t].classList.add("invalid"),r=!1)),e[t].matches(".checkbox-group")&&(e[t].querySelector('input[type="checkbox"]:checked')||(e[t].classList.add("invalid"),r=!1)),e[t].matches(".textarea")&&e[t].querySelectorAll("textarea").length>0){var a=e[t].querySelectorAll("textarea");for(n=0;n<a.length;n++)""==a[n].value&&(a[n].closest(".textarea").className+=" invalid",r=!1)}}return r}showTab(currentTab);for(var i=0;i<document.querySelectorAll('.required input[type="text"]').length;i++)document.querySelectorAll('.required input[type="text"]')[i].addEventListener("input",function(e){e.target.closest(".required").classList.remove("invalid")});for(i=0;i<document.querySelectorAll('.required input[type="radio"]').length;i++)document.querySelectorAll('.required input[type="radio"]')[i].addEventListener("input",function(e){e.target.closest(".required").classList.remove("invalid")});for(i=0;i<document.querySelectorAll('.required input[type="checkbox"]').length;i++)document.querySelectorAll('.required input[type="checkbox"]')[i].addEventListener("input",function(e){e.target.closest(".required").classList.remove("invalid")});for(i=0;i<document.querySelectorAll(".required textarea").length;i++)document.querySelectorAll(".required textarea")[i].addEventListener("input",function(e){e.target.closest(".required").classList.remove("invalid")});